{% extends 'basePage.html' %}

{% block title %}
  Omnia-Leaderboard
{% endblock %}
 {% block content %}
    <link rel="stylesheet" href="../static/css/leaderboard.css">
    <script src="../static/js/leaderBoard.js"></script>

    {% with messages = get_flashed_messages(with_categories=True) %}  
      {% if messages %}  
        {% for category,message in messages %}  
        <div class="col-sm-12">
          <div class="alert fade alert-simple alert-success alert-dismissible text-left font__family-montserrat font__size-16 font__weight-light brk-library-rendered rendered show">
            <button type="button" class="close font__size-18" data-dismiss="alert">
                    X
            </button>
            <i class="start-icon far fa-check-circle faa-tada animated"></i>{{ message|capitalize }}
          </div>
        </div>
  
        {% endfor %}  
      {% endif %}  
    {% endwith %}  
    {% if filterStatus %}
    <div class="d-flex justify-content-center  border-danger p-3 m-3" onload = "setDate()">
      <form class="form-inline" action="/adminLeaderboardFilter" method="POST" >
        <label>StartDate</label>
        <input class="rounded border m-2" style="height: 3rem;font-size: 1rem;" type = "date" id="startDate" name = "startDate"></input>
        <label>EndDate</label>
        <input class="rounded border" style="height: 3rem;font-size: 1rem;" type = "date" id = "endDate" name = "endDate"></input>
        <input class="btn btn-primary" style="font-size: 1rem;width: 6rem;" type = "submit" value="Apply"><br>
        
      </form>
    </div>
    {% endif %}
    <div id="leader-table" class="rounded container">

      <table class="rounded table table-success table-striped border-sm p-3 bg-body ">
          <tr class="table__header">
              {% for header in headings %}
              <th class="table__cell">{{ header }}</th>
              {% endfor %}
          </tr>
          {% for row in data %}
          <tr class="table__row">
              <td class ="table__cell"><a href="/MyPerformance/{{row[0]}}" style="text-decoration-color: none; color: inherit;">{{ row[0] }}</a></td>
              {% for cell in row[1:] %}
                  <td class ="table__cell">{{ cell }}</td>
              {% endfor %}
          </tr>
          {% endfor %}
      </table>
    </div>
  {% endblock %}
